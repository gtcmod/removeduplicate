<!DOCTYPE html>
<html>
<head>
  <title>Remover Palavras Repetidas</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      text-align: center;
      display: flex;
      justify-content: center;
      height: 100vh;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
    }
    input, textarea {
      margin: 10px;
      padding: 5px;
      width: 300px;
    }
    #removeDuplicatesButton {
      margin-top: 10px;
      padding: 8px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .inputs-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 20px;
    }
    .result-container {
      margin: 20px;
    }
    .middle {
      margin-top: 40px;
    }
    .vertical-text {
      white-space: pre-line;
      overflow-y: auto;
      writing-mode: vertical-rl;
      text-orientation: mixed;
    }
  </style>
</head>
<body>
  <div class="left-container">
    <h1>Remover Palavras Repetidas</h1>
    <div class="inputs-container">
      <label for="inputWords">Insira as palavras:</label>
      <textarea id="inputWords" placeholder="Inserir palavras aqui (atÃ© 10.000 palavras)" rows="10"></textarea>
      <label for="separatorComma">Separador ','</label>
      <input type="checkbox" id="separatorComma" name="separator" value="comma">

      <label for="separatorBacktick">Separador '`'</label>
      <input type="checkbox" id="separatorBacktick" name="separator" value="backtick">

      <label for="separatorDoubleQuotes">Separador '"'</label>
      <input type="checkbox" id="separatorDoubleQuotes" name="separator" value="doubleQuotes">

      <label for="separatorSingleQuotes">Separador '''</label>
      <input type="checkbox" id="separatorSingleQuotes" name="separator" value="singleQuotes">
      
      <button id="removeDuplicatesButton">Remover Palavras Repetidas</button>
      <p>Palavras inseridas: <span id="wordCount">0</span></p>
    </div>
  </div>
  <div class="right-container">
    <div class="result-container">
      <div class="inputs-container">
        <label for="outputWords">Palavras sem repetiÃ§Ã£o:</label>
        <textarea id="outputWords" placeholder="Palavras sem repetiÃ§Ã£o" readonly rows="10" class="vertical-text"></textarea>
        <p>Total de palavras apÃ³s remoÃ§Ã£o: <span id="finalWordCount">0</span></p>
      </div>
      <div class="inputs-container middle">
        <label for="removeSpecificWord">Remover palavra especÃ­fica:</label>
        <input type="text" id="removeSpecificWord" placeholder="Palavra a ser removida">
        <button id="removeSpecificButton">Remover Palavra EspecÃ­fica</button>
      </div>
    </div>
  </div>

  <script>
    function removeDuplicates() {
      let inputText = document.getElementById('inputWords').value;
      let wordsArray = inputText.match(/(['`",]?\b\w+\b['`",]?)/g);
      let uniqueWords = Array.from(new Set(wordsArray));

      let separator = getSelectedSeparator();
      let output = uniqueWords.map(word => `${separator}${word}${separator}\n`).join('');
      document.getElementById('outputWords').value = output.trim();

      document.getElementById('finalWordCount').innerText = uniqueWords.length;
    }

    function getSelectedSeparator() {
      let checkboxes = document.querySelectorAll('input[name="separator"]:checked');
      let separator = ' '; // Default separator

      checkboxes.forEach((checkbox) => {
        if (checkbox.value === 'comma') {
          separator = ',';
        } else if (checkbox.value === 'backtick') {
          separator = '`';
        } else if (checkbox.value === 'doubleQuotes') {
          separator = '"';
        } else if (checkbox.value === 'singleQuotes') {
          separator = "'";
        }
      });

      return separator;
    }

    function removeSpecificWord() {
      let specificWord = document.getElementById('removeSpecificWord').value.toLowerCase();
      let outputText = document.getElementById('outputWords').value.toLowerCase();
      let wordsArray = outputText.split(/\s+/);

      if (!specificWord.trim()) {
        alert('Insira uma palavra para remover.');
        return;
      }

      let updatedWordsArray = wordsArray.filter(word => word.toLowerCase() !== specificWord);
      let separator = getSelectedSeparator();
      let output = updatedWordsArray.map(word => `${separator}${word}${separator}`).join('\n');
      document.getElementById('outputWords').value = output.trim();

      document.getElementById('finalWordCount').innerText = updatedWordsArray.length;
    }

    document.getElementById('removeDuplicatesButton').addEventListener('click', removeDuplicates);
    document.getElementById('removeSpecificButton').addEventListener('click', removeSpecificWord);

    document.getElementById('inputWords').addEventListener('input', function() {
      let inputText = this.value;
      let wordCount = inputText.trim() ? inputText.trim().split(/\s+/).length : 0;
      document.getElementById('wordCount').innerText = wordCount;

      if (!inputText.trim()) {
        document.getElementById('outputWords').value = '';
        document.getElementById('finalWordCount').innerText = '0';
      }
    });
  </script>
</body>
</html>
